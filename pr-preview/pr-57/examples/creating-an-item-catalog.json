{"version":1,"kind":"Notebook","sha256":"58c36853c9b31e85c575ca0adb4e38aba570638690459e0388d1ff0cfd7a8ae4","slug":"creating-an-item-catalog","location":"/OSC/creating_an_item_catalog.ipynb","dependencies":[],"frontmatter":{"title":"Creating a STAC Item Catalog","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"MIT","url":"https://opensource.org/licenses/MIT","name":"MIT License","free":true,"osi":true}},"github":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples","subject":"EarthCODE Examples","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/ESA-EarthCODE/documentation/tree/main/examples/blob/HEAD/examples/OSC/creating_an_item_catalog.ipynb","thumbnail":"/documentation/pr-preview/pr-57/examples/build/gh-new-repo-da01a6085eba67ee46b888ea64705003.png","exports":[{"format":"ipynb","filename":"creating_an_item_catalog.ipynb","url":"/documentation/pr-preview/pr-57/examples/build/creating_an_item_cat-33d8827293417e64e33691886cfc3d4c.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sPUKkp8wSy"}],"identifier":"context","label":"Context","html_id":"context","implicit":true,"key":"NSOSLRynt0"},{"type":"heading","depth":4,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x1Txurh3Tw"}],"identifier":"purpose","label":"Purpose","html_id":"purpose","implicit":true,"key":"afAWX9XiXr"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The purpose of this tutorial is to learn how to share research outcomes with the wider research community in Open Science Catalog. This can be done by creating STAC Catalogs that\ndescribe a specific dataset you are willing to share.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kVB4z2H7SM"}],"key":"WSAZBxr7YM"},{"type":"heading","depth":4,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"uKO8G3f7qR"}],"identifier":"description","label":"Description","html_id":"description","implicit":true,"key":"Yd2O0iSdoj"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"This is the first of a two-part tutorial on how to upload your data to EarthCODE. In this  part we will create a new Catalog using PySTAC. This Catalog should be ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"hwhjyKNS8o"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"self-contained","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"EiCBfs9x9Q"}],"key":"O5dFazFF5u"},{"type":"text","value":" and should not be uploaded directly to the Open Science Catalog (OSC). Instead, it should be uploaded to some persistent storage. In this example we will upload it to an open-access repository on GitHub. In the next tutorial when we will create an OSC entry, we will simply add a reference to our Item-Catalog as a “remote-child”.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WK1bhJKnTp"}],"key":"z7tNAJEv81"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"This tutorial provides steps necessary to Create STAC Item Catalog in an semi-automated way, using the PySTAC library. By following these steps you will be able to create a ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"rUY1gnP722"},{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"self-contained","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KUCNb4lF6I"}],"key":"qJkvM3oIha"},{"type":"text","value":" STAC Catalog with individual items in a JSON format. This catalog should be hosted in your own (or institutional) public GitHub repository to ensure it is accessible. (See more on the requirements about this Catalog in the ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"k82Yqf58HG"},{"type":"link","url":"https://esa-earthcode.github.io/documentation/documentation/Technical%20Documentation/Data/Contributing%20to%20the%20EarthCODE%20Catalog#step-2-creating-and-uploading-a-stac-item-catalog","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"documentation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"FEsdZCpvph"}],"urlSource":"https://esa-earthcode.github.io/documentation/documentation/Technical%20Documentation/Data/Contributing%20to%20the%20EarthCODE%20Catalog#step-2-creating-and-uploading-a-stac-item-catalog","key":"mNE8RBWnif"},{"type":"text","value":").","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gkXPOsd7L1"}],"key":"dpGgc8cqC1"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"In this example we will upload it to an open-access repository on GitHub. In the next tutorial we will create the actual Open Science Catalog entry, where we will create a full metadata description of our dataset with a link to this Item Catalog.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"uLBS1tWQst"}],"key":"BqfUtq3BGW"},{"type":"heading","depth":5,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"STAC Items","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"H3Jb0hWLpl"}],"identifier":"stac-items","label":"STAC Items","html_id":"stac-items","implicit":true,"key":"t0dWhLmDgJ"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"A STAC Item is the lowest level component of a STAC catalog. All STAC Items must have an associated data ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"JkMPPxjtCN"},{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Asset","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"yJQ2hoMM6U"}],"key":"VvRmsmWdbW"},{"type":"text","value":", in addition to the Asset (which you can think of as a data file), the Item also contains metadata about the data itself, such as:","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"g93IUh5TW3"}],"key":"tI7rh4F2OQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"Spatiotemporal extent","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"EqfSfIRxBy"}],"key":"BxvwcIYsse"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Data collection (e.g. Sentinel or Landsat)","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"dCasGtNMEa"}],"key":"ZHULzQHcBI"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Bands","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"Uf1jIQWJoV"}],"key":"ldTbkvGNO1"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Cloud Cover","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"pFZ8VkGfv1"}],"key":"qQPTl4h7Zg"}],"key":"EfAMuV7VTd"},{"type":"admonition","kind":"important","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Important","key":"BOvIrHJmoH"}],"key":"G9gez2Oy0y"},{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"Think about the persistence of your data!\nIf your data files are not currently stored in an open-access and persistent storage, you can contact the ESA team who will assist you to upload your data to the ESA Project Results Repository (PRR). The same applies for the repository we will upload our STAC Item Catalog to!","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"sP3boAXEwE"}],"key":"ZfooyM5QTG"}],"key":"vepDxMS8vo"},{"type":"heading","depth":4,"position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Q0PXQki42G"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"BQmZPuYczW"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"In this example we assume that the data files are already uploaded to a remote storage, and we have access to the download URLs, but feel free to modify this example for your own data files!","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"WuAfK6XcBv"}],"key":"mNhndGEMa5"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"We will be using this supraglacial lakes dataset: ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Iec5uldMCH"},{"type":"link","url":"https://zenodo.org/records/7568049#.ZDbG4nbP1aQ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"https://​zenodo​.org​/records​/7568049​#​.ZDbG4nbP1aQ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"kmkw07YjN4"}],"urlSource":"https://zenodo.org/records/7568049#.ZDbG4nbP1aQ","key":"h19Ty8LTeY"},{"type":"text","value":". We have also noted down the download links for 5 of the assets:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"NGBGGQZvVk"}],"key":"uQJIGWeEHl"},{"type":"code","lang":"bash","value":"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20171111T205337_20171111T205438_008239_00E91A_F8D1.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20190224T203744_20190224T203844_015093_01C356_B9C1.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20170620T205332_20170620T205433_006139_00AC89_6857.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20180923T202118_20180923T202218_012847_017B82_7DD5.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20181108T203747_20181108T203847_013518_01903B_D463.tif","position":{"start":{"line":32,"column":1},"end":{"line":38,"column":1}},"key":"QhLDg8SZcM"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"This notebook uses ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"emdO3jq2tt"},{"type":"inlineCode","value":"Python 3.10.11","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"pUB9hTLOCd"}],"key":"fTdmoOSkfQ"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"X3759MBXbh"}],"key":"xppRejBc2E"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"You can reuse this example with your own data links, as long as they point to an open access, persistent and remote storage!","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"izHYwTx1TJ"}],"key":"zDX4DfAPUq"}],"key":"mB3ZFK3oJt"}],"key":"hQ4ttsMXCd"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Loading Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sV42As6HDq"}],"identifier":"loading-libraries","label":"Loading Libraries","html_id":"loading-libraries","implicit":true,"key":"kh9C4wcd5P"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Make sure you have installed the requirements, e.g. with ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pa1sAkHMHX"},{"type":"inlineCode","value":"pip install pystac rasterio","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"n4A4Ghx08G"}],"key":"o7FqzW9iBY"}],"key":"l3zkQNP8VJ"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import json\nimport time\nimport requests\n\nimport pystac\nimport rasterio\nfrom pathlib import Path","key":"KDJ6d73Veb"},{"type":"output","id":"qzW3KL-XqC9ow25pW7B9h","data":[],"key":"A2wHlyde7y"}],"key":"ZuawZxdrpy"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating the Item Catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yhGw1C2PoT"}],"identifier":"creating-the-item-catalog","label":"Creating the Item Catalog","html_id":"creating-the-item-catalog","implicit":true,"key":"glKB3wAIK3"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"To correctly reference our Items, they need to be linked in the STAC Catalog. This catalog should also include the following minimum information:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"KgtAPSznQt"}],"key":"HDc48NsNAA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Title of the Catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cljd4qqreA"}],"key":"VMPH2cYKAB"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ZQk4ZzlQi5"}],"key":"SVrS8dN0r0"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"ID (e.g. catalog-id: can be short name of the dataset)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UEUEGXiscS"}],"key":"JrY11OqiaN"}],"key":"dmtNs6E6Wx"}],"key":"i1vAtYBlzq"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"title = \"Item Catalog Example\"\ndescription = \"A collection of supraglacial lakes data in a very useful example notebook.\"\ncatalog_id = \"supraglacial-lakes-example-2025\"\n\ncatalog = pystac.Catalog(\n    id=catalog_id,\n    title=title,\n    description=description,\n)","key":"poZQovZcTD"},{"type":"output","id":"KRlu5FCuaOhDKo5ujnSVf","data":[],"key":"g12TOwQxCG"}],"key":"IEZD9anJqB"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"catalog","key":"tW9IAQIwGY"},{"type":"output","id":"oyir1kKZKdE5ecyENagYJ","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Catalog\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">id</span>\n            <span class=\"pystac-v\">\"supraglacial-lakes-example-2025\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">stac_version</span>\n            <span class=\"pystac-v\">\"1.1.0\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">description</span>\n            <span class=\"pystac-v\">\"A collection of supraglacial lakes data in a very useful example notebook.\"</span>\n        </li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">links</span><span class=\"pystac-l\">[] 0 items</span></summary>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">title</span>\n            <span class=\"pystac-v\">\"Item Catalog Example\"</span>\n        </li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Catalog id=supraglacial-lakes-example-2025>","content_type":"text/plain"}}}],"key":"djAn9vs1Jb"}],"key":"WV9tpHuvU7"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s all! Most of the metadata will be added to the Items which we will add to this catalog shortly.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x0d83F1Hb0"}],"key":"ea46FpjKlH"}],"key":"splWPpLco9"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating a single STAC Item","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"crLRt5S92w"}],"identifier":"creating-a-single-stac-item","label":"Creating a single STAC Item","html_id":"creating-a-single-stac-item","implicit":true,"key":"yVrvpY05jl"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Manually creating STAC Items can be cumbersome and is prone to errors (but possible!). Luckily there are many tools that can make the process a lot easier.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NRywR7QHTQ"}],"key":"eIgZztgPHh"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Here we will use ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"S4AYL7SdQ1"},{"type":"inlineCode","value":"rio_stac","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"X0P06YVNX8"},{"type":"text","value":" ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ZYdKkvPJGb"},{"type":"link","url":"https://developmentseed.org/rio-stac/api/rio_stac/stac/","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"(documentation here)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wICU92kPWU"}],"urlSource":"https://developmentseed.org/rio-stac/api/rio_stac/stac/","key":"GxxK6mNITT"},{"type":"text","value":" which is a library that we can use to open and extract metadata from raster datasets.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DtHwKQZN54"}],"key":"FRK73dz5c5"}],"key":"YZaTyVYt0N"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"filenames = [\n    \"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20171111T205337_20171111T205438_008239_00E91A_F8D1.tif\",\n    \"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20190224T203744_20190224T203844_015093_01C356_B9C1.tif\",\n    \"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20170620T205332_20170620T205433_006139_00AC89_6857.tif\",\n    \"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20180923T202118_20180923T202218_012847_017B82_7DD5.tif\",\n    \"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20181108T203747_20181108T203847_013518_01903B_D463.tif\",\n]","key":"B7Ws8tLIUo"},{"type":"output","id":"V1Z18BSaEEAcEh0kqIt-a","data":[],"key":"GTm7vBg3OK"}],"key":"p5TScZp3Sl"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"from rio_stac import create_stac_item","key":"RxdC1fsmml"},{"type":"output","id":"wCoLh0HZV51uKw7l0rjpQ","data":[],"key":"h0iMDqH7wB"}],"key":"TuMgbAomvr"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"item = create_stac_item(\n    source=filenames[0],\n    id=\"item_1\",\n    asset_name=\"data\",  # EarthCODE standard asset name\n    # all the metadata!\n    with_eo=True,\n    with_proj=True,\n    with_raster=True,\n)","key":"yAeWn7ft1r"},{"type":"output","id":"ho1jOWwFy02LXGF32IteT","data":[],"key":"uJIXojI0CR"}],"key":"fGuwPNb4TF"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspecting the result we can see that this function has extracted rich information about our raster file. This information is attached to the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iOGG8RVLyd"},{"type":"inlineCode","value":"Item","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gJ53AskSMa"},{"type":"text","value":". This Item also has an ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q7ak9gPqek"},{"type":"inlineCode","value":"\"assets\"","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O3eagg1n4R"},{"type":"text","value":" attribute which references the actual data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DptghsyBB8"}],"key":"hLMYKOJcBe"},{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Important: ","key":"EuHWkUKsn9"}],"key":"GwOv0bBcQ9"},{"type":"text","value":"Verify that your references always point to the remote open storage!","key":"MQ58DqBXn6"}],"key":"taLye6zlfY"}],"key":"i7IwnaxXtA"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"item","key":"afFCDPZ9hS"},{"type":"output","id":"TFiiVkf-kFC28O5Q_JETG","data":[{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"dff4e143354a8e4680c57f7ed0a717c5","path":"/documentation/pr-preview/pr-57/examples/build/dff4e143354a8e4680c57f7ed0a717c5.html"},"text/plain":{"content":"<Item id=item_1>","content_type":"text/plain"}}}],"key":"mhrympdGSU"}],"key":"VxCHYOZGPn"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating the rest of our Items","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PKrevWUfIk"}],"identifier":"creating-the-rest-of-our-items","label":"Creating the rest of our Items","html_id":"creating-the-rest-of-our-items","implicit":true,"key":"UBig2LgmYS"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that we have shown how to generate a single Item using ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"HkP5KhuVEu"},{"type":"inlineCode","value":"rio_stac","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"zOZCajU8IT"},{"type":"text","value":", we can repeat the process for the rest of our data files. The goal is to create a list of STAC Items, that we can add to our Catalog with the buit-in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wPszW4fN4s"},{"type":"inlineCode","value":"Catalog.add_items()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Z9RTvM1sUq"},{"type":"text","value":" method.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Cp6joD0pzY"}],"key":"VIRztLY7Wb"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We could in principle just iterate over the method above, but in order to respect the rate limits for our data provider (Zenodo), we define a function which reads the response headers and responds appropriately.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"tuRAQgoJm2"}],"key":"eR4e55E9jt"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"This function also saves the file to a local temporary destination instead of reading the data from Zenodo directly.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LWKPQvtMJp"}],"key":"fW8yXWYBHQ"}],"key":"HydyQIvGnB"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"import time\nimport requests\n\ndef download_zenodo_file(url: str, local_path: str, max_retries: int = 5) -> None:\n    \"\"\"\n    Download a file from Zenodo into local_path, respecting rate limits if we hit 429 responses.\n    \n    :param url: The direct download URL from Zenodo.\n    :param local_path: Where to save the file locally.\n    :param max_retries: Number of times to retry the download if repeatedly rate-limited.\n    \"\"\"\n    attempt = 0\n    \n    while attempt < max_retries:\n        response = requests.get(url, stream=True)\n        \n        if response.status_code == 200:\n            with open(local_path, 'wb') as f:\n                for chunk in response.iter_content(chunk_size=8192):\n                    f.write(chunk)\n            return \n        \n        # If rate-limited (HTTP 429), then check rate-limit headers and wait.\n        elif response.status_code == 429:\n            attempt += 1\n            if reset_timestamp := response.headers.get(\"X-RateLimit-Reset\") is not None:\n                now = time.time()\n                wait_seconds = int(reset_timestamp) - int(now)\n                wait_seconds = max(wait_seconds, 1)  # Wait at least 1 second.\n                print(f\"Got 429 Too Many Requests. Waiting ~{wait_seconds} seconds.\")\n                time.sleep(wait_seconds)\n        else:\n            response.raise_for_status()\n    \n    raise RuntimeError(f\"Failed to download {url} after {max_retries} retries.\")","key":"W2jNxlOcB4"},{"type":"output","id":"yhf4EJLcWJjMJIGuEFyZ4","data":[],"key":"QfVLm1lzr4"}],"key":"pvSkXMTsPd"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we can iterate over the rest of our data files and create the STAC items.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T05wzT36Xr"}],"key":"B1ZbiAwHFr"}],"key":"vglomM2wGD"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"import rasterio\n\nitems = []\nlocal_tmp_file = \"tmp.tif\"\n\nfor idx, remote_url in enumerate(filenames[0:]):\n    # Save our dataset to the temporary file\n    download_zenodo_file(remote_url, local_tmp_file)\n\n    # Inspect the local file and create a STAC Item\n    item = create_stac_item(\n        source=local_tmp_file,\n        id=f\"item_{idx+1}\",\n        asset_name=\"data\",\n        asset_href=remote_url,  # Explicitly set the asset reference to the remote one!\n        with_eo=True,\n        with_proj=True,\n        with_raster=True,\n    )\n\n    items.append(item)","key":"Lq4sQQxHyU"},{"type":"output","id":"YRJ5c8BqD2CXewibkdsqd","data":[],"key":"FgnE0g0QCH"}],"key":"O8Y1D5MWTX"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"# Verify that our items all point to the correct reference\nfor item in items:\n    print(item.assets['data'].href)","key":"HuUGm1r55d"},{"type":"output","id":"i_jpOOtxxgtMSugCjOdPK","data":[{"name":"stdout","output_type":"stream","text":"https://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20171111T205337_20171111T205438_008239_00E91A_F8D1.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20190224T203744_20190224T203844_015093_01C356_B9C1.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20170620T205332_20170620T205433_006139_00AC89_6857.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20180923T202118_20180923T202218_012847_017B82_7DD5.tif\nhttps://zenodo.org/records/7568049/files/extent_S1B_EW_GRDH_1SDH_20181108T203747_20181108T203847_013518_01903B_D463.tif\n"}],"key":"hpRD15CDim"}],"key":"RS3wkIytU5"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Looks good!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kjMKoAfyvz"}],"key":"ZypUDsETw8"}],"key":"cfuspsVZdX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adding Items to our Item Catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kxw7gVE4UK"}],"identifier":"adding-items-to-our-item-catalog","label":"Adding Items to our Item Catalog","html_id":"adding-items-to-our-item-catalog","implicit":true,"key":"jWcLitsveq"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that we have defined our items, we can add them to our catalog.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"baNjRaBCaq"}],"key":"bbT2SZX0cS"}],"key":"xPXSdqmMNT"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"catalog.add_items(items)","key":"tFEg8rJWg8"},{"type":"output","id":"B6u6cXG8jmP6lxWGnYvBg","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"[<Link rel=item target=<Item id=item_1>>,\n <Link rel=item target=<Item id=item_2>>,\n <Link rel=item target=<Item id=item_3>>,\n <Link rel=item target=<Item id=item_4>>,\n <Link rel=item target=<Item id=item_5>>]","content_type":"text/plain"}}}],"key":"IbBkekLR3S"}],"key":"s8ArO2JunM"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"catalog","key":"xcYYd8j3BX"},{"type":"output","id":"3aUV8N3AZf2aXWymv9pgE","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/html":{"content":"\n\n<style>\n.pystac-summary {\n    cursor: pointer;\n    display: list-item;\n    list-style: revert;\n    margin-bottom: 0 !important;\n\n    .pystac-l {\n        padding-left: 0.5em;\n        color: rgb(64, 128, 128);\n        font-style: italic;\n    }\n}\n.pystac-row {\n    overflow-wrap: break-word;\n    padding-left: .825em;\n\n    .pystac-k {\n        display: inline-block;\n        margin: 0px 0.5em 0px 0px;\n    }\n    .pystac-v {\n        color: rgb(186, 33, 33);\n    }\n}\n.pystac-k {\n    color: rgb(0, 128, 0);\n    font-weight: 700;\n}\n</style>\n<div class=\"jp-RenderedJSON jp-mod-trusted jp-OutputArea-output\">\n    <div class=\"container\" style=\"line-height: normal;\">\n        <ul style=\"padding: 0px; margin: 0px; list-style: none; display: block;\">\n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"Catalog\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">id</span>\n            <span class=\"pystac-v\">\"supraglacial-lakes-example-2025\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">stac_version</span>\n            <span class=\"pystac-v\">\"1.1.0\"</span>\n        </li>\n    \n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">description</span>\n            <span class=\"pystac-v\">\"A collection of supraglacial lakes data in a very useful example notebook.\"</span>\n        </li>\n    \n                \n            \n                \n                    <li><details>\n        <summary class=\"pystac-summary\"><span class=\"pystac-k\">links</span><span class=\"pystac-l\">[] 5 items</span></summary>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">0</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">1</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">2</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">3</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li><details>\n            <summary class=\"pystac-summary\"><span class=\"pystac-k\">4</span></summary>\n            <ul style=\"margin: 0px; padding: 0px 0px 0px 1.75em; list-style: none; display: block;\">\n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">rel</span>\n            <span class=\"pystac-v\">\"item\"</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">href</span>\n            <span class=\"pystac-v\">None</span>\n        </li>\n    \n            \n        \n            \n                \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">type</span>\n            <span class=\"pystac-v\">\"application/geo+json\"</span>\n        </li>\n    \n            \n        \n    </ul>\n        </details></li>\n    \n            \n        \n    </ul>\n        \n    </details></li>\n                \n            \n                \n                    \n        <li class=\"pystac-row\">\n            <span class=\"pystac-k\">title</span>\n            <span class=\"pystac-v\">\"Item Catalog Example\"</span>\n        </li>\n    \n                \n            \n        </ul>\n    </div>\n</div>","content_type":"text/html"},"text/plain":{"content":"<Catalog id=supraglacial-lakes-example-2025>","content_type":"text/plain"}}}],"key":"dvrPhBq3VA"}],"key":"k7x20jXImB"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Saving the Catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"at6McchBdy"}],"identifier":"saving-the-catalog","label":"Saving the Catalog","html_id":"saving-the-catalog","implicit":true,"key":"DFbdFSYBrG"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"If we inspect the Catalog, we can see that it now contains Links to the Items, but the links themselves don’t contain any references.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fR85F3SPFz"}],"key":"wsL5NdTrCN"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"With PySTAC, the real magic happens when you ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mVeqyhF1JL"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"normalize and save","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"A8DRT1hutr"}],"key":"a2V5C89jOy"},{"type":"text","value":" the Catalog. This is when all the links are resolved, and a folder structure will be laid out following best practices, automatically!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bwNnBgHrrd"}],"key":"kNDBWUaErj"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"What we will do is to specify a target location, which will become the root folder of our Catalog. When we ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"VX68LU9Kyk"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"normalize","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ytq5bL9cLj"}],"key":"uRttqZNQOo"},{"type":"text","value":" the Catalog to this folder, all the internal references will be resolved with relative paths. When we ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jIbFG720FG"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"save","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IUmrJYWDBU"}],"key":"QbSUUSI3v4"},{"type":"text","value":" the Catalog, PySTAC will generate the JSON files in the folder we just normalized to.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gvfhkxPL5x"}],"key":"Cbt5JYBlwR"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"We normalize and save the Catalog as “self contained”. Here is the description of a self-contained catalog from the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CpVnjKhCm5"},{"type":"link","url":"https://pystac.readthedocs.io/en/stable/api/catalog.html#pystac.catalog.CatalogType","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"PySTAC API documentation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IrNe9dpbqC"}],"urlSource":"https://pystac.readthedocs.io/en/stable/api/catalog.html#pystac.catalog.CatalogType","key":"fj18AKGRF8"},{"type":"text","value":":","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uwxTDrHSoS"}],"key":"tu0wKCk3sV"},{"type":"blockquote","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"“A ‘self-contained catalog’ is one that is designed for portability. Users may want to download an online catalog from and be able to use it on their local computer, so all links need to be relative.”","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"b7kZOuCXw9"}],"key":"fWlQwVV4Z6"}],"key":"NqBaM5XxL3"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"In other words, exactly what we want to make our data accessible!","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"sS7kRQt7qy"}],"key":"H7DP9q2zyz"}],"key":"DcGLAxRVz0"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"output_folder = \"supraglacial-lakes-item-catalog\"","key":"mo35eFSSnF"},{"type":"output","id":"rsWN3bp6jZ-s1z2Z6SdLU","data":[],"key":"CqCyR9IKnA"}],"key":"gRnenXoHTI"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"python","executable":true,"value":"catalog.normalize_and_save(root_href=output_folder, catalog_type=pystac.CatalogType.SELF_CONTAINED)","key":"gbaLn6Gf3f"},{"type":"output","id":"qZM2euYi8LxMrBMub0NAz","data":[],"key":"QZNCs9uWVX"}],"key":"KwQ7eBlWpd"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If you inspect the Catalog you can see that PySTAC has added a few more links to our Catalog, namely to the root catalog and itself, which in this istance is the same.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZdngcYC54g"}],"key":"gaEwwELO8Q"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Also notice that the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"v7PEhaNI7l"},{"type":"inlineCode","value":"Link.href","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FJ2DYhB0Vs"},{"type":"text","value":" attributes show absolute paths in the notebook. However, you should now have the actual STAC catalog saved in the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hlUtiaryDi"},{"type":"inlineCode","value":"output_folder","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x4TqfPUtTT"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"JBkJ64jPUl"}],"key":"XJtU0wE5zT"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The folder will have the following structure:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uJlltVruuJ"}],"key":"ZsWwABoV3y"},{"type":"code","lang":"","value":"supraglacial-lakes-item-catalog\n├── catalog.json\n├── item_1\n│   └── item_1.json\n├── item_2\n│   └── item_2.json\n├── item_3\n│   └── item_3.json\n├── item_4\n│   └── item_4.json\n└── item_5\n    └── item_5.json","position":{"start":{"line":6,"column":1},"end":{"line":19,"column":1}},"key":"RP3NcnGsQx"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Looking at the ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"MD2Ht0HHyw"},{"type":"inlineCode","value":"catalog.json","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"wNYtOcEl0w"},{"type":"text","value":":","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"YIU3tlf50S"}],"key":"fnbLmiO6xI"},{"type":"code","lang":"json","value":"{\n  \"type\": \"Catalog\",\n  \"id\": \"supraglacial-lakes-example-2025\",\n  \"stac_version\": \"1.1.0\",\n  \"description\": \"A collection of supraglacial lakes data in a very useful example notebook.\",\n  \"links\": [\n    {\n      \"rel\": \"root\",\n      \"href\": \"./catalog.json\",\n      \"type\": \"application/json\",\n      \"title\": \"Item Catalog Example\"\n    },\n    {\n      \"rel\": \"item\",\n      \"href\": \"./item_1/item_1.json\",\n      \"type\": \"application/geo+json\"\n    },\n    {\n      \"rel\": \"item\",\n      \"href\": \"./item_2/item_2.json\",\n      \"type\": \"application/geo+json\"\n    },\n    {\n      \"rel\": \"item\",\n      \"href\": \"./item_3/item_3.json\",\n      \"type\": \"application/geo+json\"\n    },\n    {\n      \"rel\": \"item\",\n      \"href\": \"./item_4/item_4.json\",\n      \"type\": \"application/geo+json\"\n    },\n    {\n      \"rel\": \"item\",\n      \"href\": \"./item_5/item_5.json\",\n      \"type\": \"application/geo+json\"\n    }\n  ],\n  \"title\": \"Item Catalog Example\"\n}","position":{"start":{"line":22,"column":1},"end":{"line":63,"column":1}},"key":"rT8momUM9P"},{"type":"paragraph","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"we can verify that everything looks correct.","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"qv1GL4eqPk"}],"key":"lE2cSm7dBh"},{"type":"paragraph","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"The item JSON files should have the following links:","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"MSn0INrnYg"}],"key":"sxGkhSFDy5"},{"type":"code","lang":"json","value":"  \"links\": [\n    {\n      \"rel\": \"root\",\n      \"href\": \"../catalog.json\",\n      \"type\": \"application/json\",\n      \"title\": \"Item Catalog Example\"\n    },\n    {\n      \"rel\": \"parent\",\n      \"href\": \"../catalog.json\",\n      \"type\": \"application/json\",\n      \"title\": \"Item Catalog Example\"\n    }\n  ],","position":{"start":{"line":67,"column":1},"end":{"line":82,"column":1}},"key":"R2ApPlrwu8"},{"type":"paragraph","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"text","value":"... among all the other metadata we have added.","position":{"start":{"line":83,"column":1},"end":{"line":83,"column":1}},"key":"ELTyrzBMLx"}],"key":"fPti1HDk4M"},{"type":"div","class":"alert alert-block alert-success","children":[{"type":"strong","children":[{"type":"text","value":"That's it!","key":"n9ZP1H40Pn"}],"key":"SyN6ItGSox"},{"type":"text","value":" We have now created a self-contained STAC Item Catalog that contains all the metadata of our data, in compliance with the EarthCODE specifications for FAIR and open science. Now we just need to upload it to somewhere people can access it.","key":"BlnwfRyprM"}],"key":"ZZthJGWxgX"}],"key":"niFPL0A7du"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Upload the Item Catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xZK2so0Yxn"}],"identifier":"upload-the-item-catalog","label":"Upload the Item Catalog","html_id":"upload-the-item-catalog","implicit":true,"key":"L90QYsxb2l"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this part we will upload the Catalog in order to make it available. ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"d3wJguuYpj"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Feel free to do this in any way you like as long as you are sure the files will remain accessible!","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"XXJ19XDG5a"}],"key":"ap6CLpHurD"}],"key":"p76zXNkuWk"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"A good option is to upload the files we just created to GitHub. In the next part of the tutorial, when we will create an entry to the Open Science Catalog, we will only need the URL for the ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"FCOOt68oxu"},{"type":"inlineCode","value":"catalog.json","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ju2LzjDJ89"},{"type":"text","value":" we have in our root. The STAC browser will read the files directly from this repository and extract all the information from our Items automatically.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QdNQEMcIPK"}],"key":"OXMJxISwMw"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We will now show how this can be done with GitHub and the git CLI.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"F4fioHu2is"}],"key":"bGdwBAunoB"}],"key":"VrRKi0Rt4y"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create a public GitHub repository","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A3Vkn2Tb6k"}],"identifier":"create-a-public-github-repository","label":"Create a public GitHub repository","html_id":"create-a-public-github-repository","implicit":true,"key":"QSuzRajvAU"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Go to ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mavul1bkcZ"},{"type":"link","url":"github.com/new","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"github.com/new","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"qYKBFUCsD6"}],"urlSource":"github.com/new","error":true,"key":"ltUvHY08iB"},{"type":"text","value":" and create a remote repository. Here we will name it the same as our local folder, make sure it is set to ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LosdvOSDXL"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"public","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NuHbVQosGI"}],"key":"gjiZMXLmbX"},{"type":"text","value":", and ignore everything else.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"N44ag1aPfp"}],"key":"cgsMlwuZ2D"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/documentation/pr-preview/pr-57/examples/build/gh-new-repo-da01a6085eba67ee46b888ea64705003.png","alt":"GitHub create a new repository","align":"center","key":"FsSRMWv3qV","urlSource":"./images/gh-new-repo.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GitHub create a new repository","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qFa5pD7sEC"}],"key":"UINdHbv4jg"}],"key":"hhLWJo4pgS"}],"enumerator":"1","key":"XXRHTmHbPR"}],"key":"XbLuT0VkYh"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"After creating the repository, you can simply click ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lA3xOH7q1i"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"upload existing files","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vxfs79F4Rw"}],"key":"TPyph949C2"},{"type":"text","value":" to upload your files manually, or if you are comfortable with git, do it through the command line interface:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SWscHumZW6"}],"key":"A9CvtQO7w8"},{"type":"code","lang":"bash","value":"# Navigate to the Item Catalog we want to upload\ncd supraglacial-lakes-item-catalog\n\n# Initialise it as a git repository\ngit init\n\n# Add the URL to your newly created GitHub repository as the remote version of your local files\ngit remote add origin https://github.com/<username>/supraglacial-lakes-item-catalog.git\n\n# Add and commit your files\ngit add --all\ngit commit -m \"Useful commit message\"\n\n# Set the remote main as the upstream version of your local main, and push your changes\ngit push --set-upstream origin main","position":{"start":{"line":3,"column":1},"end":{"line":19,"column":1}},"key":"eRGXPB2TJs"}],"key":"DsQtQQqmXX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When you refresh GitHub page, you should see your STAC catalog.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kRndJ2qMpc"}],"key":"iMj4p0l0Dl"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/documentation/pr-preview/pr-57/examples/build/gh-repo-complete-96402d63131642dafe03afcc6a2ca9fc.png","alt":"New GitHub repository","align":"center","key":"QwMxs05gJ5","urlSource":"./images/gh-repo-complete.png"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"New GitHub repository","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ASeeL1n95d"}],"key":"RXxJNWfMUg"}],"key":"iZkEMhxLmJ"}],"enumerator":"2","key":"DwCSXLbRGw"}],"key":"orpspLZdNP"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That’s it!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SM0qBnIUY5"}],"key":"jbVn8N7fha"}],"key":"wN9G8LZrCV"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the next stages we will explain how to create and add your product to the Open Science Catalog, linking to the Items we just created.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qOlo8nGCGD"}],"key":"iOaA8x6Vrp"}],"key":"q02u6ypoDM"}],"key":"Pivf2iMmEN"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Open Science Catalog","url":"/index-1","group":"EarthCODE Examples"},"next":{"title":"Manual Example (PySTAC)","url":"/manual-example","group":"EarthCODE Examples"}}},"domain":"http://localhost:3000"}